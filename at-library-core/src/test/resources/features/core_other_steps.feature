# language: ru
@unit
Функционал: Проверка общих шагов ядра (OtherSteps)

  Сценарий: Установка значения переменной из литерала
    Когда установлено значение переменной "переменная_литерал" равным "простая строка"
    Тогда значение переменной "переменная_литерал" равно "простая строка"

  Сценарий: Установка значения переменной многострочным текстом
    Когда установлено значение переменной "многострочная" равным
  """
  строка 1
  строка 2
  """
    Тогда значение переменной "многострочная" равно
  """
  строка 1
  строка 2
  """

  Сценарий: Сравнение значений двух переменных (равны)
    Когда установлено значение переменной "первая" равным "одинаковое значение"
    И установлено значение переменной "вторая" равным "одинаковое значение"
    Тогда значения в переменных "первая" и "вторая" совпадают

  Сценарий: Сравнение значений двух переменных (не равны)
    Когда установлено значение переменной "первая" равным "значение 1"
    И установлено значение переменной "вторая" равным "значение 2"
    Тогда значения в переменных "первая" и "вторая" не совпадают

  Сценарий: Проверка значения переменной с использованием properties
    Когда сохранено значение "key.text" из property файла в переменную "из_property"
    Тогда значение переменной "из_property" равно "простая многострочная переменная"

  Сценарий: Проверка совпадения значения переменной и значения из property
    Когда установлено значение переменной "переменная" равным "простая многострочная переменная"
    Тогда значения из переменной "переменная" и из property файла "key.text" совпадают

  Сценарий: Заполнение шаблона по данным из таблицы
    Когда шаблон "example.txt" заполнен данными из таблицы и сохранён в переменную "заполненный_шаблон"
      | @varible@ | A meta-markup language |
    Тогда значение переменной "заполненный_шаблон" равно "Шаблон с текстом: A meta-markup language"

  Сценарий: Проверка длины строки переменной
    Когда установлено значение переменной "строка_для_длины" равным "0123456789"
    Тогда длина строки переменной "строка_для_длины" равна 10
    Тогда длина строки переменной "строка_для_длины" больше 5
    Тогда длина строки переменной "строка_для_длины" меньше 20

  Сценарий: Установка значения переменной с текущей датой
    И установлено значение переменной "текущая_дата" с текущей датой в формате "dd.MM.yyyy"

  Сценарий: Установка значения переменной с текущей датой минус/плюс N часов
    И установлено значение переменной "дата_минус_час" с текущей датой минус 1 час в формате "dd.MM.yyyy HH:mm"
    И установлено значение переменной "дата_плюс_час" с текущей датой плюс 1 час в формате "dd.MM.yyyy HH:mm"
    И установлено значение переменной "текущая_дата_в_диапазоне" с текущей датой в формате "dd.MM.yyyy HH:mm"
    И верно, что "new java.text.SimpleDateFormat('dd.MM.yyyy HH:mm').parse(дата_минус_час).time < new java.text.SimpleDateFormat('dd.MM.yyyy HH:mm').parse(текущая_дата_в_диапазоне).time"
    И верно, что "new java.text.SimpleDateFormat('dd.MM.yyyy HH:mm').parse(текущая_дата_в_диапазоне).time < new java.text.SimpleDateFormat('dd.MM.yyyy HH:mm').parse(дата_плюс_час).time"
    И верно, что "new java.text.SimpleDateFormat('dd.MM.yyyy HH:mm').parse(дата_плюс_час).time - new java.text.SimpleDateFormat('dd.MM.yyyy HH:mm').parse(дата_минус_час).time == 2 * 60 * 60 * 1000"

  Сценарий: Проверка выражения через GroovyShell
    Когда установлено значение переменной "x" равным "5"
    И установлено значение переменной "y" равным "5"
    И верно, что "x == y"
    И верно, что "x + y == 10"

  @file-move
  Сценарий: Перемещение файла с помощью шага core
    И подготовлены test-файлы для шага перемещения файла
    И перемещение файла из "core.test.move.source" в "core.test.move.dest"
